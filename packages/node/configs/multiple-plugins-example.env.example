# Multi-Plugin Configuration via Environment Variables
#
# This example demonstrates how to configure multiple plugins simultaneously
# using environment variables.

# Client Configuration
STREAMR__BROKER__CLIENT__AUTH__PRIVATE_KEY='<YOUR_PRIVATE_KEY>'
STREAMR__BROKER__CLIENT__ENVIRONMENT='polygon'

# HTTP Server Configuration
STREAMR__BROKER__HTTP_SERVER__PORT='7171'

# API Authentication (global for all plugins)
STREAMR__BROKER__API_AUTHENTICATION__KEYS_1='secret-key-1'
STREAMR__BROKER__API_AUTHENTICATION__KEYS_2='secret-key-2'

# Websocket Plugin
STREAMR__BROKER__PLUGINS__WEBSOCKET__PORT='7170'
STREAMR__BROKER__PLUGINS__WEBSOCKET__PAYLOAD_METADATA='false'

# MQTT Plugin
STREAMR__BROKER__PLUGINS__MQTT__PORT='1883'
STREAMR__BROKER__PLUGINS__MQTT__PAYLOAD_METADATA='false'
STREAMR__BROKER__PLUGINS__MQTT__STREAM_ID_DOMAIN='mydomain.eth'

# HTTP Plugin (no additional config needed, just enable it by setting empty object)
# Note: To enable a plugin with default settings, you can set any property
# or use a minimal config file with "plugins": { "http": {} }

# Operator Plugin
STREAMR__BROKER__PLUGINS__OPERATOR__OPERATOR_CONTRACT_ADDRESS='<OPERATOR_CONTRACT_ADDRESS>'
STREAMR__BROKER__PLUGINS__OPERATOR__HEARTBEAT_UPDATE_INTERVAL_IN_MS='10000'

# Autostaker Plugin
STREAMR__BROKER__PLUGINS__AUTOSTAKER__OPERATOR_CONTRACT_ADDRESS='<OPERATOR_CONTRACT_ADDRESS>'
STREAMR__BROKER__PLUGINS__AUTOSTAKER__MAX_SPONSORSHIP_COUNT='25'
STREAMR__BROKER__PLUGINS__AUTOSTAKER__RUN_INTERVAL_IN_MS='3600000'

# Console Metrics Plugin
STREAMR__BROKER__PLUGINS__CONSOLE_METRICS__INTERVAL='60000'

# Subscriber Plugin (subscribe to specific streams)
# Note: Arrays use _1, _2, etc. suffixes (starting from 1, not 0)
STREAMR__BROKER__PLUGINS__SUBSCRIBER__STREAMS_1__STREAM_ID='mydomain.eth/temperature'
STREAMR__BROKER__PLUGINS__SUBSCRIBER__STREAMS_2__STREAM_ID='mydomain.eth/humidity'
STREAMR__BROKER__PLUGINS__SUBSCRIBER__SUBSCRIPTION_RETRY_INTERVAL='5000'
